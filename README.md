# ğŸ¤– Gemma 3 Storyboard Agent

**Fully Autonomous AI Creative Studio** running locally with Gemma 3 & ComfyUI.

## ğŸ“– Overview
This project demonstrates an **Autonomous Multi-Agent Workflow** designed to automate creative production. Instead of requiring human users to act as "Prompt Engineers," this system simulates a full creative team running locally on your machine.

The core innovation is the **programmatic control of ComfyUI**. Rather than using the standard web interface, this agent communicates directly with the **ComfyUI API (via WebSockets)**. It dynamically injects prompts generated by the LLM into a JSON-based workflow, executes the generation pipeline, and retrieves the results automatically.

The system consists of four specialized agents:
1.  **Storyteller**: Writes a short story based on the theme.
2.  **Director**: Visualizes a specific scene from the story (lighting, composition).
3.  **Prompter**: Converts the director's vision into technical Stable Diffusion tags.
4.  **Reviewer**: Critiques the generated image and requests retakes if necessary.

## ğŸ› ï¸ Tech Stack
* **Frontend/UI**: [NiceGUI](https://nicegui.io/) (Real-time dashboard)
* **LLM Backend**: [Ollama](https://ollama.com/) (Model: `gemma3:27b-it`)
* **Image Generation Engine**: [ComfyUI](https://github.com/comfyanonymous/ComfyUI) (via API & WebSocket)
* **Language**: Python 3.10+

## ğŸš€ How to Run

1.  **Prerequisites**
    * Install Ollama and pull the model: `ollama pull gemma3:27b-it`
    * Install ComfyUI and ensure it's listening on `127.0.0.1:8188`.
    * (Optional) Ensure you have the required custom nodes for the workflow (e.g., CheckpointLoader, KSampler).

2.  **Installation**
    ```bash
    git clone [https://github.com/YOUR_USERNAME/repo-name.git](https://github.com/YOUR_USERNAME/repo-name.git)
    cd repo-name
    pip install -r requirements.txt
    ```

3.  **Usage**
    ```bash
    python dashboard.py
    ```
    Access `http://localhost:8080` in your browser.

## ğŸ¥ Demo
(Add your demo GIF or video link here)

## ğŸ‡¯ğŸ‡µ For Japanese Clients (æ—¥æœ¬èªã§ã®è§£èª¬)

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€**ã€ŒComfyUI APIã€ã‚’æ´»ç”¨ã—ãŸè‡ªå¾‹æ€è€ƒå‹AIã‚·ã‚¹ãƒ†ãƒ **ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã§ã™ã€‚
ComfyUIã‚’Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰APIçµŒç”±ã§ç›´æ¥åˆ¶å¾¡ã™ã‚‹ã“ã¨ã§ã€æ‰‹å‹•æ“ä½œã§ã¯ä¸å¯èƒ½ãªã€ŒLLMã¨ç”»åƒç”Ÿæˆã®å®Œå…¨è‡ªå‹•ãƒ«ãƒ¼ãƒ—ã€ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

### æŠ€è¡“çš„ãªç‰¹å¾´
1.  **ComfyUI APIåˆ¶å¾¡**: JSONå½¢å¼ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’Pythonã§å‹•çš„ã«æ›¸ãæ›ãˆã€WebSocketã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ç”ŸæˆæŒ‡ç¤ºã‚’é€ã‚Šã¾ã™ã€‚
2.  **æ–‡è„ˆç†è§£**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çŸ­ã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰ç‰©èªã‚’è†¨ã‚‰ã¾ã›ã‚‹ï¼ˆè„šæœ¬å®¶AIï¼‰ã€‚
3.  **å“è³ªç®¡ç†**: ç”Ÿæˆã•ã‚ŒãŸç”»åƒã‚’AIãŒè‡ªåˆ†ã®ç›®ã§ãƒã‚§ãƒƒã‚¯ã—ã€å´©ã‚Œã¦ã„ã‚Œã°ä¿®æ­£æŒ‡ç¤ºã‚’å‡ºã™ï¼ˆæ¤œå“AIï¼‰ã€‚

**ã€ãŠä»•äº‹ã®ä¾é ¼ã«ã¤ã„ã¦ã€‘**
ComfyUIã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹ç¯‰ã‹ã‚‰ã€Python APIã‚’ç”¨ã„ãŸè‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã®é–‹ç™ºã¾ã§æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚
APIã‚³ã‚¹ãƒˆã‚’ã‹ã‘ãªã„ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒæ§‹ç¯‰ã‚„ã€ç‰¹å®šã®ç”»é¢¨ã«ç‰¹åŒ–ã•ã›ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ä½œæˆãªã©ã€ãŠæ°—è»½ã«ã”ç›¸è«‡ãã ã•ã„ã€‚

## ğŸ‘¤ Author
* [Your Name]